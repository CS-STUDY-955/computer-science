# 파일 시스템

- 컴퓨터에서 파일이나 자료를 효율적으로 발견 및 접근할 수 있도록 보관, 유지, 관리하는 방법
- 사용자 영역이 아닌 커널 영역에서 동작
- 순수한 소프트웨어로, 하드웨어에 직접 접근하지 않고 인터페이스 역할을 함
- 파일 시스템은 보조기억장치에 위치
- 클러스터 또는 블록이라 불리는 일정한 단위에 자료를 저장함

<br>

## 파일 시스템과 디렉토리의 차이

- 파일 시스템 : 파일을 포함하도록 할당된 디스크의 한 구역
- 디렉토리 : 파일 시스템에 포함된 파일들을 나열하고 관리하는데 사용되는 구조

<br>

## 파일 시스템의 종류

### 1. FAT(File Allocation Table)

- MS-DOS와 Windows에서 사용
- FAT12, FAT16, FAT32, exFAT, RFS 등이 있음
- 뒤에 붙은 숫자는 클러스터 번호의 비트를 의미함

![FAT-cluster](https://user-images.githubusercontent.com/68081743/234274328-c019f686-4f92-436b-8987-000ddec837b8.png)

- 저용량에 적합하고 다양한 운영체제에 지원(MAC, Linux 모두 지원)하여 호환성이 좋으나 보안성은 좋지 않음
- 메모리카드, USB 같은 이동식 저장매체에서 많이 사용함
- 파일 하나의 최대 크기는 4GB

<br>

### 2. NTFS(New Technology File System)

- FAT32의 약점을 보완하기 위해 개발된 파일 시스템
- 현재 윈도우에서 가장 많이 사용되는 시스템
- 사용자마다 파일과 폴더에 개별적으로 다른 권한을 설정할 수 있음
- 파일 단위로 계정이 언제 파일을 열어 보았는지, 열려다 실패했는지 알 수 있는 감사(Auditing) 기능이 있음
- 윈도우NT 전용 파일시스템으로 다른 OS와 호환성이 떨어짐
- 암호화 지원

#### FAT와 NTFS의 차이점

- FAT는 테이블 형식으로 파일들의 관계를 저장하고, NTFS는 B-Tree로 저장해 NTFS의 탐색 속도가 훨씬 빠름
- NTFS에는 저널링 파일 시스템이 있음
- FAT는 단순하여 구현이 쉬우나 NTFS는 구현이 매우 어려운 수준
- 파일 시스템 구조상 FAT는 단편화가 일어날 가능성이 높으나 NTFS는 그 가능성이 적음

#### 저널링 파일 시스템

시스템의 변경사항을 기록해놓고 이를 참조하여 파일 시스템에 변경사항을 반영(commit)하기 전 변경점을 추적함<br>
이를 통해 오류 발생시 더 빠르게 정상 상태로 복구되며 손실 가능성이 낮음

<br>

### 3. EXT(Extended File System)

- Linux용 파일 시스템
- ext2, ext3, ext4 등이 있음
- ext3에선 저널링 기술을 도입

<br>

### 4. 기타 종류

- Windows : ReFS(Resilient File System)
- Linux : XFS, ZFS
- Max : HFS, HFS+, APFS(Apple File System)
